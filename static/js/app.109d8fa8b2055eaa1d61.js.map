{"version":3,"sources":["webpack:///./src/router/router.js","webpack:///./src/utils/rem.js","webpack:///./~/.npminstall/github-markdown-css/2.6.0/github-markdown-css/github-markdown.css?cdac","webpack:///./src/store/mutationTypes.js","webpack:///./src/config/env.js","webpack:///./src/config/apis.js","webpack:///App.vue","webpack:///./src/main.js","webpack:///./src/App.vue?09b8","webpack:///./src/App.vue?e091","webpack:///./src/App.vue?d559","webpack:///./src/store/index.js"],"names":["TopicList","r","require","About","Login","Message","Topic","NewTopic","User","path","component","children","redirect","name","meta","requiresAuth","doc","win","docEl","documentElement","resizeEvt","window","recalc","clientWidth","style","fontSize","addEventListener","document","GET_TOPIC_LIST","UPDATE_TOPIC_LIST","GET_TOPIC_INFO","LOGIN","LOGIN_OUT","REPLY","TOOGLE_LOAD","TOOGLE_LIST_LOAD","GET_USER_INFO","baseUrl","routerMode","console","log","topicList","data","axios","url","params","topicInfo","id","get","login","method","reply","messageCount","messages","upReply","addTopic","getUserInfo","loginname","FastClick","attach","body","Vue","use","router","routes","mode","strict","scrollBehavior","to","from","savedPosition","x","y","localStorage","getItem","store","commit","JSON","parse","beforeEach","next","matched","some","record","state","userInfo","query","encodeURIComponent","$mount","Vuex","Store","topics","showLoad","showListLoad","mutations","removeItem","actions","then","res","ret","success","user","avatar_url","accesstoken","setItem","dispatch","topicId"],"mappings":"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","file":"static/js/app.109d8fa8b2055eaa1d61.js","sourcesContent":["import App from '../App'\r\n//懒加载路由 详细：https://router.vuejs.org/zh-cn/advanced/lazy-loading.html\r\nconst TopicList = r => require.ensure([], () => r(require('../pages/topicList')), 'TopicList')\r\nconst About = r => require.ensure([], () => r(require('../pages/about')), 'About')\r\nconst Login = r => require.ensure([], () => r(require('../pages/login')), 'Login')\r\nconst Message = r => require.ensure([], () => r(require('../pages/message')), 'Message')\r\nconst Topic = r => require.ensure([], () => r(require('../pages/topic')), 'Topic')\r\nconst NewTopic = r => require.ensure([], () => r(require('../pages/newTopic')), 'NewTopic')\r\nconst User = r => require.ensure([], () => r(require('../pages/user')), 'User')\r\n\r\n\r\nexport default [{\r\n    path: '/',\r\n    component: App, //顶层路由，对应index.html\r\n    children: [ //二级路由。对应App.vue\r\n        {\r\n            path: '',\r\n            redirect: {\r\n                name: 'list'\r\n            }\r\n        }, {\r\n            path: '/list',\r\n            name: 'list',\r\n            component: TopicList\r\n        }, {\r\n            path: '/topic/:id',\r\n            name: 'topic',\r\n            component: Topic\r\n        }, {\r\n            path: '/create',\r\n            name: 'create',\r\n            component: NewTopic,\r\n            meta: {\r\n                requiresAuth: true\r\n            }\r\n        }, {\r\n            path: '/login',\r\n            name: 'login',\r\n            component: Login\r\n        }, {\r\n            path: '/user/:loginname',\r\n            name: 'user',\r\n            component: User\r\n        }, {\r\n            path: '/message',\r\n            name: 'message',\r\n            component: Message,\r\n            meta: {\r\n                requiresAuth: true\r\n            }\r\n        }, {\r\n            path: '/about',\r\n            name: 'about',\r\n            component: About\r\n        }, {\r\n            path: '*',\r\n            component: TopicList\r\n        }\r\n    ]\r\n}]\n\n\n// WEBPACK FOOTER //\n// ./src/router/router.js","(function(doc, win) {\r\n    var docEl = doc.documentElement,\r\n        resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize',\r\n        recalc = function() {\r\n            var clientWidth = docEl.clientWidth;\r\n            if (!clientWidth) return;\r\n            if (clientWidth >= 640) {\r\n                docEl.style.fontSize = '100px';\r\n            } else {\r\n                docEl.style.fontSize = 100 * (clientWidth / 640) + 'px';\r\n            }\r\n        };\r\n\r\n    if (!doc.addEventListener) return;\r\n    win.addEventListener(resizeEvt, recalc, false);\r\n    doc.addEventListener('DOMContentLoaded', recalc, false);\r\n})(document, window);\n\n\n// WEBPACK FOOTER //\n// ./src/utils/rem.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.npminstall/github-markdown-css/2.6.0/github-markdown-css/github-markdown.css\n// module id = 13\n// module chunks = 8","export const GET_TOPIC_LIST = 'GET_TOPIC_LIST';\r\nexport const UPDATE_TOPIC_LIST = 'UPDATE_TOPIC_LIST';\r\nexport const GET_TOPIC_INFO = 'GET_TOPIC_INFO';\r\nexport const LOGIN = 'LOGIN';\r\nexport const LOGIN_OUT = 'LOGIN_OUT';\r\nexport const REPLY = 'REPLY';\r\nexport const TOOGLE_LOAD = 'TOOGLE_LOAD';\r\nexport const TOOGLE_LIST_LOAD = 'TOOGLE_LIST_LOAD';\r\nexport const GET_USER_INFO = 'GET_USER_INFO';\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutationTypes.js","/**\r\n * env config\r\n */\r\nconst baseUrl = 'https://cnodejs.org/api/v1/'\r\nconst routerMode = 'hash'\r\n\r\nexport {\r\n\tbaseUrl,\r\n\trouterMode,\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/config/env.js","/*\r\n * api interface config\r\n * use axios\r\n */\r\nimport {\r\n\tbaseUrl\r\n} from './env'\r\nimport axios from 'axios'\r\n\r\nconsole.log(baseUrl);\r\nexport const topicList = (data) => {\r\n\treturn axios({\r\n\t\turl: baseUrl + 'topics',\r\n\t\tparams: data\r\n\t})\r\n}\r\n\r\nexport const topicInfo = (id) => {\r\n\treturn axios.get(baseUrl + 'topic/' + id)\r\n}\r\n\r\nexport const login = (data) => {\r\n\treturn axios({\r\n\t\turl: baseUrl + 'accesstoken',\r\n\t\tmethod: 'post',\r\n\t\tdata: data\r\n\t})\r\n}\r\n\r\nexport const reply = (data, id) => {\r\n\treturn axios({\r\n\t\turl: `${baseUrl}topic/${id}/replies`,\r\n\t\tmethod: 'post',\r\n\t\tdata: data\r\n\t})\r\n}\r\n\r\nexport const messageCount = (data) => {\r\n\treturn axios({\r\n\t\turl: baseUrl + '/message/count',\r\n\t\tdata: data\r\n\t})\r\n}\r\n\r\nexport const messages = (data) => {\r\n\treturn axios({\r\n\t\turl: baseUrl + 'messages',\r\n\t\tdata: data\r\n\t})\r\n}\r\n\r\nexport const upReply = (data, id) => {\r\n\treturn axios({\r\n\t\turl: `${baseUrl}reply/${id}/ups`,\r\n\t\tmethod: 'post',\r\n\t\tdata: data\r\n\t})\r\n}\r\n\r\nexport const addTopic = (data) => {\r\n\treturn axios({\r\n\t\turl: baseUrl + 'topics',\r\n\t\tmethod: 'post',\r\n\t\tdata: data\r\n\t})\r\n}\r\n\r\nexport const getUserInfo = (loginname) => {\r\n\treturn axios.get(baseUrl + 'user/' + loginname)\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/config/apis.js","<template>\r\n    <router-view></router-view>\r\n</template>\r\n\r\n<style lang=\"scss\">\r\n\t@import './style/main'\r\n\t\r\n</style>\r\n\r\n<script>\r\n  export default {\r\n        \r\n  }\r\n</script>\n\n\n// WEBPACK FOOTER //\n// App.vue?3666c525","import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport routes from './router/router'\r\nimport store from './store/'\r\nimport {\r\n\trouterMode\r\n} from './config/env'\r\n\r\nimport './utils/rem'\r\nimport FastClick from 'fastclick'\r\nimport 'github-markdown-css'\r\n\r\nif ('addEventListener' in document) {\r\n\tdocument.addEventListener('DOMContentLoaded', function() {\r\n\t\tFastClick.attach(document.body);\r\n\t}, false);\r\n};\r\n\r\nVue.use(VueRouter)\r\nconst router = new VueRouter({\r\n\troutes,\r\n\tmode: routerMode,\r\n\tstrict: process.env.NODE_ENV !== 'production',\r\n\tscrollBehavior(to, from, savedPosition) {\r\n\t\t// return 期望滚动到哪个的位置\r\n\t\treturn savedPosition ? savedPosition : {\r\n\t\t\tx: 0,\r\n\t\t\ty: 0\r\n\t\t}\r\n\t}\r\n})\r\n\r\n// 处理刷新的时候vuex被清空但是用户已经登录的情况\r\nif (localStorage.getItem('userInfo')) {\r\n\tstore.commit('LOGIN', JSON.parse(localStorage.getItem('userInfo')));\r\n}\r\n\r\n//登录验证\r\nrouter.beforeEach((to, from, next) => {\r\n\tif (to.matched.some(record => record.meta.requiresAuth)) {\r\n\t\tif (store.state.userInfo.loginname) {\r\n\t\t\tnext();\r\n\t\t} else {\r\n\t\t\tnext({\r\n\t\t\t\tname: 'login',\r\n\t\t\t\tquery: {\r\n\t\t\t\t\tredirect: encodeURIComponent(to.name)\r\n\t\t\t\t} //缓存应该跳的页面,方便登录后直接跳转\r\n\t\t\t});\r\n\t\t}\r\n\t} else {\r\n\t\tnext();\r\n\t}\r\n})\r\n\r\nnew Vue({\r\n\trouter,\r\n\tstore,\r\n}).$mount('#app')\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.npminstall/extract-text-webpack-plugin/2.1.0/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/.npminstall/vue-style-loader/2.0.5/vue-style-loader!./~/.npminstall/css-loader/0.26.4/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/.npminstall/vue-loader/11.3.4/vue-loader/lib/style-compiler?{\"id\":\"data-v-0eddc819\",\"scoped\":false,\"hasInlineConfig\":false}!./~/.npminstall/sass-loader/6.0.3/sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/.npminstall/vue-loader/11.3.4/vue-loader/lib/selector.js?type=styles&index=0!./src/App.vue\n// module id = 45\n// module chunks = 8","\n/* styles */\nrequire(\"!!../node_modules/.npminstall/extract-text-webpack-plugin/2.1.0/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/.npminstall/vue-loader/11.3.4/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-0eddc819\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../node_modules/.npminstall/vue-loader/11.3.4/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\nvar Component = require(\"!../node_modules/.npminstall/vue-loader/11.3.4/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/.npminstall/vue-loader/11.3.4/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/.npminstall/vue-loader/11.3.4/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0eddc819\\\"}!../node_modules/.npminstall/vue-loader/11.3.4/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 49\n// module chunks = 8","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('router-view')\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.npminstall/vue-loader/11.3.4/vue-loader/lib/template-compiler?{\"id\":\"data-v-0eddc819\"}!./~/.npminstall/vue-loader/11.3.4/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 50\n// module chunks = 8","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport {\r\n\ttopicList,\r\n\ttopicInfo,\r\n\tlogin,\r\n\treply,\r\n\tmessages,\r\n\tupReply,\r\n\tgetUserInfo,\r\n} from '../config/apis' //apis\r\n\r\nimport {\r\n\tGET_TOPIC_LIST,\r\n\tUPDATE_TOPIC_LIST,\r\n\tGET_TOPIC_INFO,\r\n\tGET_USER_INFO,\r\n\tLOGIN,\r\n\tLOGIN_OUT,\r\n\tREPLY,\r\n\tTOOGLE_LOAD,\r\n\tTOOGLE_LIST_LOAD\r\n} from './mutationTypes'; //mutationTypes\r\n\r\nVue.use(Vuex)\r\n\r\n\r\nconst store = new Vuex.Store({\r\n\tstate: {\r\n\t\ttopics: [],\r\n\t\ttopicInfo: {},\r\n\t\tuserInfo: {},\r\n\t\tshowLoad: false, //页面等待效果\r\n\t\tshowListLoad: false //list划到底后的等待效果\r\n\t},\r\n\r\n\tmutations: {\r\n\t\t[GET_TOPIC_LIST](state, data) {\r\n\t\t\tstate.topics = data;\r\n\t\t},\r\n\r\n\t\t[UPDATE_TOPIC_LIST](state, data) {\r\n\t\t\tstate.topics = [...state.topics, ...data];\r\n\t\t},\r\n\r\n\t\t[GET_TOPIC_INFO](state, data) {\r\n\t\t\tstate.topicInfo = data;\r\n\t\t},\r\n\r\n\t\t[GET_USER_INFO](state, data) {\r\n\t\t\tstate.userInfo = data;\r\n\t\t},\r\n\r\n\t\t[LOGIN](state, data) {\r\n\t\t\tstate.userInfo = data;\r\n\t\t},\r\n\r\n\t\t[TOOGLE_LOAD](state, data) {\r\n\t\t\tif (data) {\r\n\t\t\t\tstate.showLoad = data;\r\n\t\t\t} else {\r\n\t\t\t\tstate.showLoad = !state.showLoad;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t[TOOGLE_LIST_LOAD](state, data) {\r\n\t\t\tif (data) {\r\n\t\t\t\tstate.showListLoad = data;\r\n\t\t\t} else {\r\n\t\t\t\tstate.showListLoad = !state.showListLoad;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t[LOGIN_OUT](state) {\r\n\t\t\tstate.userInfo = {};\r\n\t\t\tlocalStorage.removeItem('userInfo');\r\n\t\t}\r\n\t},\r\n\r\n\tactions: {\r\n\t\t[GET_TOPIC_LIST]({\r\n\t\t\tcommit\r\n\t\t}, data) {\r\n\t\t\tcommit(TOOGLE_LOAD, true);\r\n\t\t\treturn topicList(data).then((res) => {\r\n\t\t\t\tvar ret = res.data;\r\n\t\t\t\tif (ret.success) {\r\n\t\t\t\t\tcommit(TOOGLE_LOAD, false);\r\n\t\t\t\t\tcommit(GET_TOPIC_LIST, ret.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\t[UPDATE_TOPIC_LIST]({\r\n\t\t\tcommit\r\n\t\t}, data) {\r\n\t\t\tcommit(TOOGLE_LIST_LOAD, true);\r\n\r\n\t\t\treturn topicList(data).then((res) => {\r\n\t\t\t\tvar ret = res.data;\r\n\t\t\t\tif (ret.success) {\r\n\t\t\t\t\tcommit(TOOGLE_LIST_LOAD, false);\r\n\t\t\t\t\tcommit(UPDATE_TOPIC_LIST, ret.data)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\t[GET_TOPIC_INFO]({\r\n\t\t\tcommit\r\n\t\t}, data) {\r\n\t\t\tcommit(TOOGLE_LOAD, true);\r\n\t\t\ttopicInfo(data).then((res) => {\r\n\t\t\t\tvar ret = res.data;\r\n\t\t\t\tif (ret.success) {\r\n\t\t\t\t\tcommit(TOOGLE_LOAD, false);\r\n\t\t\t\t\tcommit(GET_TOPIC_INFO, ret.data)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\t[GET_USER_INFO]({\r\n\t\t\tcommit\r\n\t\t}, data) {\r\n\t\t\tgetUserInfo(data).then((res) => {\r\n\t\t\t\tvar ret = res.data;\r\n\t\t\t\tif (ret.success) {\r\n\t\t\t\t\tcommit(GET_USER_INFO, ret.data)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\t[LOGIN]({\r\n\t\t\tcommit\r\n\t\t}, data) {\r\n\t\t\treturn login(data).then((res) => {\r\n\t\t\t\tvar ret = res.data;\r\n\t\t\t\tif (ret.success) {\r\n\t\t\t\t\tconst user = {\r\n\t\t\t\t\t\tloginname: ret.loginname,\r\n\t\t\t\t\t\tid: ret.id,\r\n\t\t\t\t\t\tavatar_url: ret.avatar_url,\r\n\t\t\t\t\t\taccesstoken: data.accesstoken\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlocalStorage.setItem('userInfo', JSON.stringify(user));\r\n\t\t\t\t\tcommit(LOGIN, user);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\t[REPLY]({\r\n\t\t\tcommit,\r\n\t\t\tdispatch\r\n\t\t}, data) {\r\n\t\t\tconst topicId = data.topicId;\r\n\t\t\tdelete data.topicId;\r\n\t\t\treply(data, topicId).then((res) => {\r\n\t\t\t\tvar ret = res.data;\r\n\t\t\t\tif (ret.success) {\r\n\t\t\t\t\tdispatch(GET_TOPIC_INFO, topicId);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t}\r\n})\r\n\r\nexport default store;\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js"],"sourceRoot":""}